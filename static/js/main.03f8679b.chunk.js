(this.webpackJsonppostlist=this.webpackJsonppostlist||[]).push([[0],{45:function(e,t,n){e.exports={AddPostLink:"PostList_AddPostLink__swlCy"}},46:function(e,t,n){e.exports={AddPost:"AddPostForm_AddPost__1SjeM"}},49:function(e,t,n){},73:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var s=n(10),c=(n(48),n(49),n(0)),r=n.n(c),a=n(20),o=n.n(a),i=n(21),l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),r(e),a(e)}))},d=n(6),j=n.n(d),b=n(15),u=n(13),m=n(2),p=n(28),h=n(16),x=n.n(h),f=(n(73),n(1));function O(){return Object(f.jsx)("div",{className:"floatingCirclesGContainer",children:Object(f.jsxs)("div",{id:"floatingCirclesG",children:[Object(f.jsx)("div",{className:"f_circleG",id:"frotateG_01"}),Object(f.jsx)("div",{className:"f_circleG",id:"frotateG_02"}),Object(f.jsx)("div",{className:"f_circleG",id:"frotateG_03"}),Object(f.jsx)("div",{className:"f_circleG",id:"frotateG_04"}),Object(f.jsx)("div",{className:"f_circleG",id:"frotateG_05"}),Object(f.jsx)("div",{className:"f_circleG",id:"frotateG_06"}),Object(f.jsx)("div",{className:"f_circleG",id:"frotateG_07"}),Object(f.jsx)("div",{className:"f_circleG",id:"frotateG_08"})]})})}var v=n(19);function y(e){var t=Object(c.useState)(),n=Object(u.a)(t,2),r=n[0],a=n[1],o=Object(m.f)(),i=Object(v.a)({initialValues:{title:e.title,body:e.body},onSubmit:function(t){e.changePostHandler(e.id,t.title,t.body),a(!1)}});return Object(f.jsx)("div",{className:"col-md-6 col-lg-4",children:Object(f.jsx)("div",{className:"card mb-4 shadow-sm",children:Object(f.jsxs)("div",{className:"card-body",children:[r?Object(f.jsxs)("form",{onSubmit:i.handleSubmit,children:[Object(f.jsx)("input",Object(s.a)({type:"text",className:"form-control mb-4",required:!0},i.getFieldProps("title"))),Object(f.jsx)("textarea",Object(s.a)({className:"form-control mb-3",rows:"5",required:!0},i.getFieldProps("body")))]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h5",{className:"card-title",children:e.title}),Object(f.jsx)("p",{className:"card-text",children:e.body})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(f.jsxs)("div",{className:"btn-group",children:[Object(f.jsx)("button",{onClick:function(){o.push("/posts/".concat(e.id))},type:"button",className:"btn btn-sm btn-outline-success",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"}),r?Object(f.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:i.handleSubmit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}):Object(f.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:function(){a(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]}),Object(f.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-danger float-right",onClick:function(){e.deletePostHandler(e.id)},children:Object(f.jsx)("i",{className:"fa fa-trash-alt"})})]})]})})})}var N=n(45),g=n.n(N),k=n(46),w=n.n(k);function P(e){var t=e.showAddPost,n=e.toggleShowAddPost,r=e.addPostHandler,a=Object(c.useRef)();Object(c.useEffect)((function(){return function(){n(!1)}}),[]);var o=Object(v.a)({initialValues:{title:"",body:""},onSubmit:function(e){r(e.title,e.body),n(!1)}});return Object(f.jsx)("div",{className:"row "+w.a.AddPost,ref:a,style:{height:t?a.current.scrollHeight+"px":"0px"},children:Object(f.jsx)("div",{className:"col",children:Object(f.jsxs)("form",{onSubmit:o.handleSubmit,children:[Object(f.jsx)("legend",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442"}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"title",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(f.jsx)("input",Object(s.a)({type:"text",id:"title",className:"form-control",required:!0},o.getFieldProps("title")))]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"body",children:"\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430"}),Object(f.jsx)("textarea",Object(s.a)({type:"text",id:"body",className:"form-control",required:!0},o.getFieldProps("body")))]}),Object(f.jsx)("button",{type:"submit",className:"btn btn-sm btn-success mr-2",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(f.jsx)("button",{type:"button",onClick:function(){n(!1)},className:"btn btn-sm btn-outline-primary",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})})})}function F(e){var t=e.renderPosts,n=e.showAddPost,s=e.toggleShowAddPost,c=e.addPostHandler;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{showAddPost:n,toggleShowAddPost:s,addPostHandler:c}),Object(f.jsx)("h2",{className:"mt-3 d-inline-block mr-2",children:"\u0412\u0441\u0435 \u043f\u043e\u0441\u0442\u044b"}),Object(f.jsx)("span",{className:"text-secondary "+g.a.AddPostLink,onClick:function(){s(!n)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"}),Object(f.jsx)("div",{className:"album py-5",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row",children:0===t.length?Object(f.jsx)("h5",{children:"\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043f\u043e\u0441\u0442\u043e\u0432 \u043d\u0435\u0442"}):t})})})]})}function C(e){var t=e.isFetch,n=e.setIsFetch,s=e.postsData,r=e.setPostsData,a=e.alert,o=Object(c.useState)(!1),i=Object(u.a)(o,2),l=i[0],d=i[1];if(!s)return null;var m=function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,x.a.delete("https://my-json-server.typicode.com/jjestertt/fakeposts/posts/".concat(t));case 4:c=s.filter((function(e){return e.id!==t})),r(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),a.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u0430"),console.error(e.t0);case 12:return e.prev=12,n(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(b.a)(j.a.mark((function e(t,c,o){var i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,x.a.put("https://my-json-server.typicode.com/jjestertt/fakeposts/posts/".concat(t),{id:t,title:c,body:o});case 4:i=s.map((function(e){return e.id===t?{id:t,title:c,body:o}:e})),r(i),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),a.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u0430"),console.error(e.t0);case 12:return e.prev=12,n(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(t,n,s){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(j.a.mark((function e(t,c){var o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,x.a.post("https://my-json-server.typicode.com/jjestertt/fakeposts/posts/",{title:t,body:c});case 4:o=e.sent,i=[].concat(Object(p.a)(s),[o.data]),r(i),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),a.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u0430"),console.error(e.t0);case 13:return e.prev=13,n(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(t,n){return e.apply(this,arguments)}}(),N=s.map((function(e){return Object(f.jsx)(y,{id:e.id,title:e.title,body:e.body,deletePostHandler:m,changePostHandler:h},e.id)}));return t?Object(f.jsx)(O,{}):Object(f.jsx)(F,{renderPosts:N,showAddPost:l,toggleShowAddPost:d,addPostHandler:v})}function S(){return Object(f.jsx)("header",{className:"mb-3",children:Object(f.jsx)("nav",{className:"navbar navbar-expand-md navbar-light bg-light",children:Object(f.jsx)(i.b,{to:"/",className:"navbar-brand",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})})}function _(){return Object(f.jsx)("footer",{className:"footer mt-auto py-3",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("span",{className:"text-muted",children:"Sivak Maxim"})})})}var H=function(e){var t=e.title,n=e.body;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"jumbotron",children:[Object(f.jsx)("h1",{className:"display-4",children:t}),Object(f.jsx)("p",{className:"lead",children:n})]})})};function G(e){var t=e.index,n=e.id,r=e.postId,a=e.text,o=e.deleteCommentHandler,i=e.changeCommentHandler,l=Object(c.useState)(!1),d=Object(u.a)(l,2),j=d[0],b=d[1],m=Object(v.a)({initialValues:{text:a},onSubmit:function(e){i(n,e.text,r)}});return Object(f.jsx)("li",{className:"media mb-4 w-100",children:Object(f.jsx)("div",{className:"comment w-100",children:Object(f.jsxs)("div",{className:"media-body",children:[Object(f.jsxs)("h6",{children:["\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 ",t+1]}),j?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:"w-100",onSubmit:m.handleSubmit,children:[Object(f.jsx)("textarea",Object(s.a)({className:"form-control mb-2"},m.getFieldProps("text"))),Object(f.jsx)("button",{type:"submit",className:"btn btn-sm btn-outline-success mr-1",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)("button",{onClick:function(){m.resetForm(),b(!1)},className:"btn btn-sm btn-outline-secondary ",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{className:"mb-1",children:a}),Object(f.jsx)("button",{onClick:function(){return b(!0)},className:"btn btn-sm btn-outline-secondary mr-1",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(f.jsx)("button",{onClick:function(){o(n)},className:"btn btn-sm btn-outline-danger",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})})})}function A(e){var t=e.commentsData,n=e.addCommentHandler,c=e.postId,r=e.deleteCommentHandler,a=e.changeCommentHandler,o=Object(v.a)({initialValues:{text:""},onSubmit:function(e){n(c,e.text)}}),i=t.map((function(e,t){return Object(f.jsx)(G,{index:t,id:e.id,postId:e.postId,text:e.text,deleteCommentHandler:r,changeCommentHandler:a},e.id)}));return Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-md-12",children:Object(f.jsxs)("div",{className:"panel panel-info",children:[Object(f.jsx)("div",{className:"panel-heading",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"}),Object(f.jsxs)("div",{className:"panel-body comments",children:[Object(f.jsxs)("form",{onSubmit:o.handleSubmit,children:[Object(f.jsx)("textarea",Object(s.a)({className:"form-control mb-3",placeholder:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",rows:"3"},o.getFieldProps("text"))),Object(f.jsx)("button",{type:"submit",className:"btn btn-success pull-right",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]}),Object(f.jsx)("hr",{className:"mb-3"}),Object(f.jsx)("ul",{className:"media-list",children:0===i.length?Object(f.jsx)("span",{className:"text-secondary",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"}):i})]})]})})})})}var I=function(e){var t=e.postsData,n=e.isFetch,s=e.setIsFetch,r=e.alert,a=Object(c.useState)(null),o=Object(u.a)(a,2),i=o[0],l=o[1],d=Object(m.g)().id;if(Object(c.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,x.a.get("https://my-json-server.typicode.com/jjestertt/fakeposts/comments?postId=".concat(d));case 4:t=e.sent,l(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),r.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"),console.error(e.t0);case 12:return e.prev=12,s(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}})()()}),[]),!t||!i)return null;var h=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,x.a.post("https://my-json-server.typicode.com/jjestertt/fakeposts/comments",{text:n,postId:t});case 4:c=e.sent,a=[].concat(Object(p.a)(i),[c.data]),l(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"),console.error(e.t0);case 13:return e.prev=13,s(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,x.a.delete("https://my-json-server.typicode.com/jjestertt/fakeposts/comments/".concat(t));case 4:n=i.filter((function(e){return e.id!==t})),l(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),r.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"),console.error(e.t0);case 12:return e.prev=12,s(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(j.a.mark((function e(t,n,c){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,x.a.put("https://my-json-server.typicode.com/jjestertt/fakeposts/comments/".concat(t),{id:t,text:n,postId:c});case 4:a=i.map((function(e){return e.id===t?{id:t,text:n,postId:c}:e})),l(a),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),r.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"),console.error(e.t0);case 12:return e.prev=12,s(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(t,n,s){return e.apply(this,arguments)}}(),N=t.filter((function(e){return e.id===+d}))[0];return n?Object(f.jsx)(O,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(H,{title:N.title,body:N.body}),Object(f.jsx)(A,{postId:d,commentsData:i,addCommentHandler:h,deleteCommentHandler:v,changeCommentHandler:y})]})},D=n(24);function E(){var e=Object(D.c)(),t=Object(c.useState)(!0),n=Object(u.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)(null),o=Object(u.a)(a,2),i=o[0],l=o[1];return Object(c.useEffect)((function(){(function(){var t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),t.prev=1,t.next=4,x.a.get("https://my-json-server.typicode.com/jjestertt/fakeposts/posts");case 4:n=t.sent,l(n.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),e.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u043e\u0432"),console.error(t.t0);case 12:return t.prev=12,r(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(S,{}),Object(f.jsx)("main",{role:"main",className:"flex-shrink-0",children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(m.b,{path:"/posts/:id",render:function(){return Object(f.jsx)(I,{alert:e,isFetch:s,setIsFetch:r,postsData:i})}}),Object(f.jsx)(m.b,{exact:!0,path:"/posts",render:function(){return Object(f.jsx)(C,{alert:e,isFetch:s,setIsFetch:r,postsData:i,setPostsData:l})}}),Object(f.jsx)(m.b,{exact:!0,path:"/",render:function(){return Object(f.jsx)(m.a,{to:"/posts"})}})]})}),Object(f.jsx)(_,{})]})}var L=n(47),T={timeout:3e3,position:D.b.BOTTOM_CENTER};o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(i.a,{children:Object(f.jsx)(D.a,Object(s.a)(Object(s.a)({template:L.a},T),{},{children:Object(f.jsx)(E,{})}))})}),document.getElementById("root")),l()}},[[79,1,2]]]);
//# sourceMappingURL=main.03f8679b.chunk.js.map