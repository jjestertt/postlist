(this.webpackJsonppostlist=this.webpackJsonppostlist||[]).push([[0],{44:function(e,t,n){e.exports={AddPostLink:"PostList_AddPostLink__swlCy"}},45:function(e,t,n){e.exports={AddPost:"AddPostForm_AddPost__1SjeM"}},47:function(e,t,n){},71:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);n(46),n(47);var s=n(1),c=n.n(s),r=n(41),a=n.n(r),i=n(18),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),r(e),a(e)}))},l=n(4),d=n.n(l),j=n(12),b=n(11),u=n(2),m=n(26),p=n(13),h=n.n(p),x=(n(71),n(0));function f(){return Object(x.jsx)("div",{className:"floatingCirclesGContainer",children:Object(x.jsxs)("div",{id:"floatingCirclesG",children:[Object(x.jsx)("div",{className:"f_circleG",id:"frotateG_01"}),Object(x.jsx)("div",{className:"f_circleG",id:"frotateG_02"}),Object(x.jsx)("div",{className:"f_circleG",id:"frotateG_03"}),Object(x.jsx)("div",{className:"f_circleG",id:"frotateG_04"}),Object(x.jsx)("div",{className:"f_circleG",id:"frotateG_05"}),Object(x.jsx)("div",{className:"f_circleG",id:"frotateG_06"}),Object(x.jsx)("div",{className:"f_circleG",id:"frotateG_07"}),Object(x.jsx)("div",{className:"f_circleG",id:"frotateG_08"})]})})}var O=n(14),v=n(17);function y(e){var t=Object(s.useState)(),n=Object(b.a)(t,2),c=n[0],r=n[1],a=Object(u.f)(),i=Object(v.a)({initialValues:{title:e.title,body:e.body},onSubmit:function(t){e.changePostHandler(e.id,t.title,t.body),r(!1)}});return Object(x.jsx)("div",{className:"col-md-6 col-lg-4",children:Object(x.jsx)("div",{className:"card mb-4 shadow-sm",children:Object(x.jsxs)("div",{className:"card-body",children:[c?Object(x.jsxs)("form",{onSubmit:i.handleSubmit,children:[Object(x.jsx)("input",Object(O.a)({type:"text",className:"form-control mb-4",required:!0},i.getFieldProps("title"))),Object(x.jsx)("textarea",Object(O.a)({className:"form-control mb-3",rows:"5",required:!0},i.getFieldProps("body")))]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h5",{className:"card-title",children:e.title}),Object(x.jsx)("p",{className:"card-text",children:e.body})]}),Object(x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("button",{onClick:function(){a.push("/posts/".concat(e.id))},type:"button",className:"btn btn-sm btn-outline-success",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"}),c?Object(x.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:i.handleSubmit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}):Object(x.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:function(){r(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]}),Object(x.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-danger float-right",onClick:function(){e.deletePostHandler(e.id)},children:Object(x.jsx)("i",{className:"fa fa-trash-alt"})})]})]})})})}var N=n(44),g=n.n(N),k=n(45),w=n.n(k);function P(e){var t=e.showAddPost,n=e.toggleShowAddPost,c=e.addPostHandler,r=Object(s.useRef)();Object(s.useEffect)((function(){return function(){n(!1)}}),[]);var a=Object(v.a)({initialValues:{title:"",body:""},onSubmit:function(e){c(e.title,e.body),n(!1)}});return Object(x.jsx)("div",{className:"row "+w.a.AddPost,ref:r,style:{height:t?r.current.scrollHeight+"px":"0px"},children:Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)("form",{onSubmit:a.handleSubmit,children:[Object(x.jsx)("legend",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442"}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"title",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(x.jsx)("input",Object(O.a)({type:"text",id:"title",className:"form-control",required:!0},a.getFieldProps("title")))]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"body",children:"\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430"}),Object(x.jsx)("textarea",Object(O.a)({type:"text",id:"body",className:"form-control",required:!0},a.getFieldProps("body")))]}),Object(x.jsx)("button",{type:"submit",className:"btn btn-sm btn-success mr-2",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(x.jsx)("button",{type:"button",onClick:function(){n(!1)},className:"btn btn-sm btn-outline-primary",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})})})}function F(e){var t=e.renderPosts,n=e.showAddPost,s=e.toggleShowAddPost,c=e.addPostHandler;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(P,{showAddPost:n,toggleShowAddPost:s,addPostHandler:c}),Object(x.jsx)("h2",{className:"mt-3 d-inline-block mr-2",children:"\u0412\u0441\u0435 \u043f\u043e\u0441\u0442\u044b"}),Object(x.jsx)("span",{className:"text-secondary "+g.a.AddPostLink,onClick:function(){s(!n)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"}),Object(x.jsx)("div",{className:"album py-5",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row",children:0===t.length?Object(x.jsx)("h5",{children:"\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043f\u043e\u0441\u0442\u043e\u0432 \u043d\u0435\u0442"}):t})})})]})}function S(e){var t=e.isFetch,n=e.setIsFetch,c=e.postsData,r=e.setPostsData,a=Object(s.useState)(!1),i=Object(b.a)(a,2),o=i[0],l=i[1];if(!c)return null;var u=function(){var e=Object(j.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,h.a.delete("https://my-json-server.typicode.com/jjestertt/fakeposts/posts/".concat(t));case 4:s=c.filter((function(e){return e.id!==t})),r(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.prev=11,n(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(j.a)(d.a.mark((function e(t,s,a){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,h.a.put("https://my-json-server.typicode.com/jjestertt/fakeposts/posts/".concat(t),{id:t,title:s,body:a});case 4:i=c.map((function(e){return e.id===t?{id:t,title:s,body:a}:e})),r(i),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.prev=11,n(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t,n,s){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(d.a.mark((function e(t,s){var a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,h.a.post("https://my-json-server.typicode.com/jjestertt/fakeposts/posts/",{title:t,body:s});case 4:a=e.sent,i=[].concat(Object(m.a)(c),[a.data]),r(i),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.prev=12,n(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(t,n){return e.apply(this,arguments)}}(),v=c.map((function(e){return Object(x.jsx)(y,{id:e.id,title:e.title,body:e.body,deletePostHandler:u,changePostHandler:p},e.id)}));return t?Object(x.jsx)(f,{}):Object(x.jsx)(F,{renderPosts:v,showAddPost:o,toggleShowAddPost:l,addPostHandler:O})}function C(){return Object(x.jsx)("header",{className:"mb-3",children:Object(x.jsx)("nav",{className:"navbar navbar-expand-md navbar-light bg-light",children:Object(x.jsx)(i.b,{to:"/",className:"navbar-brand",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})})}function _(){return Object(x.jsx)("footer",{className:"footer mt-auto py-3",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("span",{className:"text-muted",children:"Sivak Maxim"})})})}var H=function(e){var t=e.title,n=e.body;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"jumbotron",children:[Object(x.jsx)("h1",{className:"display-4",children:t}),Object(x.jsx)("p",{className:"lead",children:n})]})})};function G(e){var t=e.index,n=e.id,c=e.postId,r=e.text,a=e.deleteCommentHandler,i=e.changeCommentHandler,o=Object(s.useState)(!1),l=Object(b.a)(o,2),d=l[0],j=l[1],u=Object(v.a)({initialValues:{text:r},onSubmit:function(e){i(n,e.text,c)}});return Object(x.jsx)("li",{className:"media mb-4 w-100",children:Object(x.jsx)("div",{className:"comment w-100",children:Object(x.jsxs)("div",{className:"media-body",children:[Object(x.jsxs)("h6",{children:["\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 ",t+1]}),d?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{className:"w-100",onSubmit:u.handleSubmit,children:[Object(x.jsx)("textarea",Object(O.a)({className:"form-control mb-2"},u.getFieldProps("text"))),Object(x.jsx)("button",{type:"submit",className:"btn btn-sm btn-outline-success mr-1",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(x.jsx)("button",{onClick:function(){u.resetForm(),j(!1)},className:"btn btn-sm btn-outline-secondary ",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{className:"mb-1",children:r}),Object(x.jsx)("button",{onClick:function(){return j(!0)},className:"btn btn-sm btn-outline-secondary mr-1",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(x.jsx)("button",{onClick:function(){a(n)},className:"btn btn-sm btn-outline-danger",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})})})}function A(e){var t=e.commentsData,n=e.addCommentHandler,s=e.postId,c=e.deleteCommentHandler,r=e.changeCommentHandler,a=Object(v.a)({initialValues:{text:""},onSubmit:function(e){n(s,e.text)}}),i=t.map((function(e,t){return Object(x.jsx)(G,{index:t,id:e.id,postId:e.postId,text:e.text,deleteCommentHandler:c,changeCommentHandler:r},e.id)}));return Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-md-12",children:Object(x.jsxs)("div",{className:"panel panel-info",children:[Object(x.jsx)("div",{className:"panel-heading",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"}),Object(x.jsxs)("div",{className:"panel-body comments",children:[Object(x.jsxs)("form",{onSubmit:a.handleSubmit,children:[Object(x.jsx)("textarea",Object(O.a)({className:"form-control mb-3",placeholder:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",rows:"3"},a.getFieldProps("text"))),Object(x.jsx)("button",{type:"submit",className:"btn btn-success pull-right",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]}),Object(x.jsx)("hr",{className:"mb-3"}),Object(x.jsx)("ul",{className:"media-list",children:0===i.length?Object(x.jsx)("span",{className:"text-secondary",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"}):i})]})]})})})})}var I=function(e){var t=e.postsData,n=e.isFetch,c=e.setIsFetch,r=Object(s.useState)(null),a=Object(b.a)(r,2),i=a[0],o=a[1],l=Object(u.g)().id;if(Object(s.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,h.a.get("https://my-json-server.typicode.com/jjestertt/fakeposts/comments?postId=".concat(l));case 4:t=e.sent,o(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.prev=11,c(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),!t||!i)return null;var p=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,h.a.post("https://my-json-server.typicode.com/jjestertt/fakeposts/comments",{text:n,postId:t});case 4:s=e.sent,r=[].concat(Object(m.a)(i),[s.data]),o(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.prev=12,c(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,h.a.delete("https://my-json-server.typicode.com/jjestertt/fakeposts/comments/".concat(t));case 4:n=i.filter((function(e){return e.id!==t})),o(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.prev=11,c(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(d.a.mark((function e(t,n,s){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,h.a.put("https://my-json-server.typicode.com/jjestertt/fakeposts/comments/".concat(t),{id:t,text:n,postId:s});case 4:r=i.map((function(e){return e.id===t?{id:t,text:n,postId:s}:e})),o(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.prev=11,c(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t,n,s){return e.apply(this,arguments)}}(),y=t.filter((function(e){return e.id===+l}))[0];return n?Object(x.jsx)(f,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(H,{title:y.title,body:y.body}),Object(x.jsx)(A,{postId:l,commentsData:i,addCommentHandler:p,deleteCommentHandler:O,changeCommentHandler:v})]})};function D(){var e=Object(s.useState)(!0),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(null),a=Object(b.a)(r,2),i=a[0],o=a[1];return Object(s.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,h.a.get("https://my-json-server.typicode.com/jjestertt/fakeposts/posts");case 4:t=e.sent,o(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.prev=11,c(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(C,{}),Object(x.jsx)("main",{role:"main",className:"flex-shrink-0",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(u.b,{path:"/posts/:id",render:function(){return Object(x.jsx)(I,{isFetch:n,setIsFetch:c,postsData:i})}}),Object(x.jsx)(u.b,{exact:!0,path:"/posts",render:function(){return Object(x.jsx)(S,{isFetch:n,setIsFetch:c,postsData:i,setPostsData:o})}}),Object(x.jsx)(u.b,{exact:!0,path:"/",render:function(){return Object(x.jsx)(u.a,{to:"/posts"})}})]})}),Object(x.jsx)(_,{})]})}a.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(i.a,{children:Object(x.jsx)(D,{})})}),document.getElementById("root")),o()}},[[77,1,2]]]);
//# sourceMappingURL=main.a17f3e9d.chunk.js.map